"use strict";(self.webpackChunksleact_front=self.webpackChunksleact_front||[]).push([[319],{6319:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var l=t(7294),n=t(3046),r=t(5977),c=t(3727),s=t(8678),u=t(9669),m=t.n(u),i=t(5723),o=t(3564);const d=()=>{const e=(0,r.k6)(),{data:a,error:t,revalidate:u}=(0,i.ZP)("/api/users",o.Z),[d,p]=(0,s.Z)(""),[E,v]=(0,s.Z)(""),[k,N]=(0,l.useState)(""),[b,h]=(0,l.useState)(""),[g,w]=(0,l.useState)(!1),[C,S]=(0,l.useState)(""),[f,y]=(0,l.useState)(!1),L=(0,l.useCallback)((e=>{N(e.target.value),w(e.target.value!==b)}),[b]),I=(0,l.useCallback)((e=>{h(e.target.value),w(e.target.value!==k)}),[k]),Z=(0,l.useCallback)((a=>{a.preventDefault(),g||(S(""),y(!1),m().post("/api/users",{email:d,nickname:E,password:k}).then((a=>{y(!0),setTimeout((()=>{e.push("/login")}),2e3)})).catch((e=>{S(e.response.data)})).finally((()=>{})))}),[d,E,k,b]);return void 0===a?l.createElement("div",null,"Loading..."):a?l.createElement(r.l_,{to:"/workspace/sleact/channel/general"}):l.createElement("div",{id:"container"},l.createElement(n.N.Header,null,"Sleact"),l.createElement(n.N.Form,{onSubmit:Z},l.createElement(n.N.Label,{id:"email-label"},l.createElement("span",null,"이메일 주소"),l.createElement("div",null,l.createElement(n.N.Input,{type:"email",id:"email",name:"email",value:d,onChange:p}))),l.createElement(n.N.Label,{id:"nickname-label"},l.createElement("span",null,"닉네임"),l.createElement("div",null,l.createElement(n.N.Input,{type:"text",id:"nickname",name:"nickname",value:E,onChange:v}))),l.createElement(n.N.Label,{id:"password-label"},l.createElement("span",null,"비밀번호"),l.createElement("div",null,l.createElement(n.N.Input,{type:"password",id:"password",name:"password",value:k,onChange:L}))),l.createElement(n.N.Label,{id:"password-check-label"},l.createElement("span",null,"비밀번호 확인"),l.createElement("div",null,l.createElement(n.N.Input,{type:"password",id:"password-check",name:"password-check",value:b,onChange:I})),g&&l.createElement(n.N.Error,null,"비밀번호가 일치하지 않습니다."),!E&&l.createElement(n.N.Error,null,"닉네임을 입력해주세요."),C&&l.createElement(n.N.Error,null,C),f&&l.createElement(n.N.Success,null,"회원가입되었습니다! 2초 후 로그인 페이지로 이동합니다.")),l.createElement(n.N.Button,{type:"submit"},"회원가입")),l.createElement(n.N.LinkContainer,null,"이미 회원이신가요? ",l.createElement(c.rU,{to:"/login"},"로그인 하러가기")))}}}]);