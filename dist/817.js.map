{"version":3,"file":"817.js","mappings":"sOASA,MAgEA,EAhEc,KACb,MAAM,KAAEA,EAAF,MAAQC,EAAR,WAAeC,EAAf,OAA2BC,IAAWC,EAAAA,EAAAA,IAAO,aAAcC,EAAAA,EAAS,CACzEC,iBAAkB,IAClBC,mBAAoB,IACpBC,gBAAiB,KAEXC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCC,EAAOC,IAAiBC,EAAAA,EAAAA,GAAS,KACjCC,EAAUC,IAAoBF,EAAAA,EAAAA,GAAS,IAExCG,GAAWC,EAAAA,EAAAA,cAAaC,IAC7BA,EAAEC,iBACFV,GAAc,GACdW,IAAAA,KACC,mBACA,CAAET,MAAAA,EAAOG,SAAAA,GACT,CAAEO,iBAAiB,IAElBC,MAAMC,IACNtB,OAGAuB,OAAOxB,IAAU,QACjByB,QAAQC,IAAI1B,GACZS,EAAmD,OAArC,UAAAT,EAAMuB,gBAAN,mBAAgBxB,YAAhB,eAAsB4B,kBAEpC,CAAChB,EAAOG,IAGX,YAAac,IAAT7B,EACI,yCAGJA,EACI,gBAAC,KAAD,CAAU8B,GAAG,sCAIpB,uBAAKC,GAAG,aACP,gBAAC,WAAD,eACA,gBAAC,SAAD,CAAmBd,SAAUA,GAC5B,gBAAC,UAAD,CAAoBc,GAAG,eACtB,sCACA,2BACC,gBAAC,UAAD,CAAoBC,KAAK,QAAQD,GAAG,QAAQE,KAAK,QAAQC,MAAOtB,EAAOuB,SAAUtB,MAGnF,gBAAC,UAAD,CAAoBkB,GAAG,kBACtB,oCACA,2BACC,gBAAC,UAAD,CAAoBC,KAAK,WAAWD,GAAG,WAAWE,KAAK,WAAWC,MAAOnB,EAAUoB,SAAUnB,KAE7FP,GAAc,gBAAC,UAAD,kCAEhB,gBAAC,WAAD,CAAqBuB,KAAK,UAA1B,QAED,gBAAC,kBAAD,sBAEK,gBAAC,KAAD,CAAMF,GAAG,WAAT","sources":["webpack://sleact_front/./pages/Login/index.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { SignupStyles } from '@pages/SignUp/styles'\nimport useInput from '../../hooks/useInput'\nimport axios from 'axios'\nimport useSWR from 'swr'\nimport fetcher from '../../utils/fetcher'\n\n\nconst Login = () => {\n\tconst { data, error, revalidate, mutate } = useSWR('/api/users', fetcher, {\n\t\tdedupingInterval: 20000,\n\t\terrorRetryInterval: 5000,\n\t\terrorRetryCount: 5\n\t})\n\tconst [logInError, setLogInError] = useState(false)\n\tconst [email, onChangeEmail] = useInput('');\n\tconst [password, onChangePassword] = useInput('')\n\n\tconst onSubmit = useCallback((e) => {\n\t\te.preventDefault()\n\t\tsetLogInError(false)\n\t\taxios.post(\n\t\t\t'/api/users/login',\n\t\t\t{ email, password },\n\t\t\t{ withCredentials: true }\n\t\t)\n\t\t\t.then((response) => {\n\t\t\t\trevalidate();\n\t\t\t\t// mutate(response.data);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t\tsetLogInError(error.response?.data?.statusCode === 401);\n\t\t\t})\n\t}, [email, password])\n\n\n\tif (data === undefined) {\n\t\treturn <div>Loading...</div>\n\t}\n\n\tif (data) {\n\t\treturn <Redirect to=\"/workspace/sleact/channel/general\" />\n\t}\n\n\treturn (\n\t\t<div id=\"container\">\n\t\t\t<SignupStyles.Header>Sleact</SignupStyles.Header>\n\t\t\t<SignupStyles.Form onSubmit={onSubmit}>\n\t\t\t\t<SignupStyles.Label id=\"email-label\">\n\t\t\t\t\t<span>이메일 주소</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SignupStyles.Input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChangeEmail} />\n\t\t\t\t\t</div>\n\t\t\t\t</SignupStyles.Label>\n\t\t\t\t<SignupStyles.Label id=\"password-label\">\n\t\t\t\t\t<span>비밀번호</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SignupStyles.Input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={onChangePassword} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{logInError && <SignupStyles.Error>이메일과 비밀번호 조합이 일치하지 않습니다.</SignupStyles.Error>}\n\t\t\t\t</SignupStyles.Label>\n\t\t\t\t<SignupStyles.Button type=\"submit\">로그인</SignupStyles.Button>\n\t\t\t</SignupStyles.Form>\n\t\t\t<SignupStyles.LinkContainer>\n\t\t\t\t아직 회원이 아니신가요?&nbsp;\n        <Link to=\"/signup\">회원가입 하러가기</Link>\n\t\t\t</SignupStyles.LinkContainer>\n\t\t</div>\n\t)\n}\n\nexport default Login"],"names":["data","error","revalidate","mutate","useSWR","fetcher","dedupingInterval","errorRetryInterval","errorRetryCount","logInError","setLogInError","useState","email","onChangeEmail","useInput","password","onChangePassword","onSubmit","useCallback","e","preventDefault","axios","withCredentials","then","response","catch","console","log","statusCode","undefined","to","id","type","name","value","onChange"],"sourceRoot":""}